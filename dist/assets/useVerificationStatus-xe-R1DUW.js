import{r as i}from"./react-vendor-mnpoGfEl.js";import{a9 as l,aw as u,ax as d}from"./index-D9LOOiBY.js";const m=()=>{const{user:t}=l(),[n,a]=i.useState(null),[c,s]=i.useState(!1),[f,r]=i.useState(!1),o=async()=>{if(t!=null&&t.id)try{r(!0);const e=await u.loadVerificationData(t.id);e?(a(e),s(e.overall_status===d.COMPLETED)):(a(null),s(!1))}catch(e){console.error("Failed to check verification status:",e),a(null),s(!1)}finally{r(!1)}};return i.useEffect(()=>{o()},[t==null?void 0:t.id]),i.useEffect(()=>{const e=()=>{o()};return window.addEventListener("verification-completed",e),()=>{window.removeEventListener("verification-completed",e)}},[]),{verificationData:n,isVerified:c,isLoading:f,refetch:o}};export{m as u};
