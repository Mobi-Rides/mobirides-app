import{j as e,L as r,I as o,S as f,g as y,k as C,l as N,m as h,r as v,B as E}from"./index-BAM2AQzj.js";import{T as P}from"./textarea-D1hXqD0k.js";import{I as T}from"./ImageUpload-9eNnYZKF.js";import{S as V}from"./separator-BlDr0iOF.js";import{C as k}from"./checkbox-FalUXy2g.js";const q=({formData:s,onInputChange:i,onSelectChange:l})=>e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"brand",children:"Brand"}),e.jsx(o,{id:"brand",name:"brand",value:s.brand,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"model",children:"Model"}),e.jsx(o,{id:"model",name:"model",value:s.model,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"year",children:"Year"}),e.jsx(o,{id:"year",name:"year",type:"number",value:s.year,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"vehicle_type",children:"Vehicle Type"}),e.jsxs(f,{value:s.vehicle_type,onValueChange:a=>l("vehicle_type",a),children:[e.jsx(y,{children:e.jsx(C,{placeholder:"Select type"})}),e.jsx(N,{children:["Basic","Standard","Executive","4x4","SUV","Electric","Exotic"].map(a=>e.jsx(h,{value:a,children:a},a))})]})]})]}),U=({formData:s,onInputChange:i,onSelectChange:l})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"price_per_day",children:"Price per Day (BWP)"}),e.jsx(o,{id:"price_per_day",name:"price_per_day",type:"number",value:s.price_per_day,onChange:i,required:!0})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"location",children:"Location"}),e.jsx(o,{id:"location",name:"location",value:s.location,onChange:i,required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"transmission",children:"Transmission"}),e.jsxs(f,{value:s.transmission,onValueChange:a=>l("transmission",a),children:[e.jsx(y,{children:e.jsx(C,{placeholder:"Select transmission"})}),e.jsxs(N,{children:[e.jsx(h,{value:"Auto",children:"Automatic"}),e.jsx(h,{value:"Manual",children:"Manual"})]})]})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"fuel",children:"Fuel Type"}),e.jsxs(f,{value:s.fuel,onValueChange:a=>l("fuel",a),children:[e.jsx(y,{children:e.jsx(C,{placeholder:"Select fuel type"})}),e.jsxs(N,{children:[e.jsx(h,{value:"Petrol",children:"Petrol"}),e.jsx(h,{value:"Diesel",children:"Diesel"}),e.jsx(h,{value:"Electric",children:"Electric"}),e.jsx(h,{value:"Hybrid",children:"Hybrid"})]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"seats",children:"Number of Seats"}),e.jsx(o,{id:"seats",name:"seats",type:"number",value:s.seats,onChange:i,required:!0})]})]}),w=({description:s,onChange:i})=>e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(P,{id:"description",name:"description",value:s,onChange:i,className:"h-32"})]}),R=({onDocumentChange:s})=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"registration",className:"text-base",children:"Car Registration Document"}),e.jsx(o,{id:"registration",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:i=>s(i,"registration")})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"insurance",className:"text-base",children:"Insurance Document (First Page)"}),e.jsx(o,{id:"insurance",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:i=>s(i,"insurance")})]}),e.jsxs("div",{className:"space-y-2 text-left",children:[e.jsx(r,{htmlFor:"additional",className:"text-base",children:"Additional Documents"}),e.jsx(o,{id:"additional",type:"file",accept:".pdf,.jpg,.jpeg,.png",multiple:!0,onChange:i=>s(i,"additional")})]})]}),L=["Air Conditioning","Bluetooth","Cruise Control","Navigation System","Leather Seats","Sunroof","Backup Camera","Parking Sensors","Keyless Entry","Push Start","Heated Seats","Premium Sound","Third Row Seating","Blind Spot Monitor","360 Degree Camera","Apple CarPlay","Android Auto","Roof Rack","Child Seat Anchor","Autonomous Driving"],M=({selectedFeatures:s,onChange:i})=>{const l=a=>{try{console.log("Feature toggled:",a),console.log("Current selected features:",s);const d=s.includes(a)?s.filter(m=>m!==a):[...s,a];console.log("New selected features:",d),i(d)}catch(d){console.error("Error toggling feature:",d)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Car Features"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Selected: ",(s==null?void 0:s.length)||0]})]}),e.jsx(V,{}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:L.map(a=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-md border cursor-pointer hover:bg-accent/30 transition-colors",children:[e.jsx(k,{id:`feature-${a}`,checked:s==null?void 0:s.includes(a),onCheckedChange:()=>l(a)}),e.jsx(r,{htmlFor:`feature-${a}`,className:"cursor-pointer text-sm",onClick:d=>{d.preventDefault(),l(a)},children:a})]},a))})]})},x=({title:s,description:i,children:l})=>e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-card",children:[e.jsxs("div",{className:"space-y-1 text-left",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i})]}),e.jsx("div",{className:"pt-2",children:l})]}),z=({initialData:s,selectedFeatures:i,onFeaturesChange:l,isEdit:a=!1,onSubmit:d,isSubmitting:m})=>{const[p,u]=v.useState(s),[A,F]=v.useState(null),[_,S]=v.useState({}),j=t=>{const{name:n,value:c}=t.target;u(n==="year"||n==="seats"?g=>({...g,[n]:parseInt(c)||0}):g=>({...g,[n]:c}))},b=(t,n)=>{u(t==="vehicle_type"?c=>({...c,[t]:n}):c=>({...c,[t]:n}))},D=t=>{t.target.files&&t.target.files[0]&&F(t.target.files[0])},I=(t,n)=>{t.target.files&&S(n==="additional"?c=>({...c,[n]:t.target.files}):c=>({...c,[n]:t.target.files[0]}))},B=async t=>{t.preventDefault(),await d(p,A,_,i)};return e.jsxs("form",{onSubmit:B,className:"space-y-8",children:[e.jsx(x,{title:"Basic Information",description:"Enter the fundamental details about your car",children:e.jsx(q,{formData:p,onInputChange:j,onSelectChange:b})}),e.jsx(x,{title:"Vehicle Specifications",description:"Provide technical details and pricing information",children:e.jsx(U,{formData:p,onInputChange:j,onSelectChange:b})}),e.jsx(x,{title:"Features & Amenities",description:"Select the features available in your vehicle",children:e.jsx(M,{selectedFeatures:i,onChange:l})}),e.jsx(x,{title:"Vehicle Description",description:"Add a detailed description to highlight your vehicle's unique aspects",children:e.jsx(w,{description:p.description,onChange:j})}),e.jsx(x,{title:"Vehicle Images",description:"Upload photos that showcase your vehicle clearly",children:e.jsx(T,{onImageChange:D})}),!a&&e.jsx(x,{title:"Documentation",description:"Upload required vehicle documentation for verification",children:e.jsx(R,{onDocumentChange:I})}),e.jsx(E,{type:"submit",className:"w-full",disabled:m,children:m?a?"Updating Car...":"Adding Car...":a?"Update Car":"Add Car"})]})};export{z as C};
