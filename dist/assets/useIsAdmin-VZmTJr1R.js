import{r}from"./react-vendor-DmU5vXC9.js";import{O as u,s as o}from"./index-ByqmTec-.js";const A=()=>{const{user:s,isAuthenticated:n}=u(),[c,e]=r.useState(!1),[d,t]=r.useState(!0);return r.useEffect(()=>{(async()=>{if(!n||!s){e(!1),t(!1);return}try{const{data:a}=await o.from("admins").select("id, is_super_admin").eq("id",s.id).single();if(a){e(!0),t(!1);return}const{data:i}=await o.from("profiles").select("role").eq("id",s.id).single();e((i==null?void 0:i.role)==="admin")}catch(a){console.error("Error checking admin status:",a),e(!1)}finally{t(!1)}})()},[s,n]),{isAdmin:c,isLoading:d}};export{A as u};
