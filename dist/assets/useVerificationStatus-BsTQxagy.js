import{m as l,r as i,aT as d,aR as u}from"./index-B1v-fdDy.js";const m=()=>{window.dispatchEvent(new CustomEvent("verification-completed"))},E=()=>{const{user:e}=l(),[r,a]=i.useState(null),[c,n]=i.useState(!1),[f,s]=i.useState(!1),o=async()=>{if(e!=null&&e.id)try{s(!0);const t=await d.loadVerificationData(e.id);t?(a(t),n(t.overall_status===u.COMPLETED)):(a(null),n(!1))}catch(t){console.error("Failed to check verification status:",t),a(null),n(!1)}finally{s(!1)}};return i.useEffect(()=>{o()},[e==null?void 0:e.id]),i.useEffect(()=>{const t=()=>{o()};return window.addEventListener("verification-completed",t),()=>{window.removeEventListener("verification-completed",t)}},[]),{verificationData:r,isVerified:c,isLoading:f,refetch:o}};export{m as t,E as u};
